<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>上院李村庄查询系统</title>
  <style>
    :root{
      --bg:#0b1020; --panel:#121832; --panel2:#0f1530; --muted:#8aa0ff; --text:#e6eaff; --chip:#1b2450; --brand:#5b7cff; --ok:#22c55e; --warn:#f59e0b;
      --border:#243067; --shadow:0 8px 30px rgba(3,10,30,.45)
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;font:15px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,'Helvetica Neue',Arial;color:var(--text);background:linear-gradient(120deg,#0a0f26,#0a0d1c 40%,#0f1636)}
    .no-scroll{overflow:hidden}
    .container{max-width:1180px;margin:24px auto;padding:0 16px}
    .app{display:grid;grid-template-columns:260px 1fr;gap:16px}
    .card{background:linear-gradient(180deg,var(--panel),var(--panel2));border:1px solid var(--border);border-radius:14px;box-shadow:var(--shadow)}
    .header{padding:18px 18px 10px; position: sticky; top: 0; background: linear-gradient(180deg,var(--panel),var(--panel2)); z-index: 5; }
    h1{margin:0;font-size:22px;letter-spacing:.3px}
    .sub{opacity:.75;font-size:13px;margin-top:6px}

    .search{display:flex;gap:8px;padding:12px;border-top:1px solid var(--border);border-bottom:1px solid var(--border);background:rgba(17,24,56,.35);backdrop-filter:blur(6px)}
    .search input{flex:1;background:#0b1230;border:1px solid var(--border);color:var(--text);padding:12px 12px;border-radius:12px;outline:none}
    .search input::placeholder{color:#9fb2ff80}
    .search .btn{background:var(--brand);border:none;color:white;padding:0 14px;border-radius:12px;cursor:pointer}
    .search .ghost{background:#152157;border:1px solid var(--border);color:var(--muted)}

    .sidebar{padding:12px}
    .cat{display:flex;align-items:center;gap:8px;padding:10px 12px;margin:6px 0;border-radius:10px;color:#cfe1ff;cursor:pointer;border:1px solid transparent}
    .cat:hover{background:#0e1740}
    .cat.active{background:linear-gradient(180deg,#17215a,#10194a);border-color:#29408f}
    .chip{font-size:12px;padding:2px 8px;border-radius:999px;background:var(--chip);border:1px solid var(--border);color:#b9c8ff}

    .toolbar{display:flex;gap:8px;align-items:center;padding:12px;border-bottom:1px solid var(--border)}
    .toolbar .btn{background:#16204f;color:#cfe1ff;border:1px solid var(--border);padding:8px 12px;border-radius:10px;cursor:pointer}
    .toolbar .btn.active{background:var(--brand);color:white}

    .list{padding:8px}
    .item{display:grid;grid-template-columns:1fr auto;gap:10px;margin:10px 0;padding:12px;border-radius:14px;background:linear-gradient(180deg,#11183c,#0d1433);border:1px solid var(--border)}
    .title{font-weight:700}
    .meta{display:flex;flex-wrap:wrap;gap:6px;margin-top:8px}
    .badge{font-size:11px;padding:3px 8px;border-radius:999px;background:#0c1336;border:1px solid #243067;color:#b2c3ff}

    .actions{display:flex;align-items:center;gap:8px}
    .small{font-size:12px;opacity:.85}
    .muted{opacity:.7}
    .fav{background:#10194a;border:1px solid var(--border);color:#ffdd80;border-radius:10px;padding:8px 10px;cursor:pointer}

    .footer{padding:12px 16px;border-top:1px solid var(--border);display:flex;justify-content:space-between;align-items:center;opacity:.85}
    .kbd{font-family:ui-monospace,Menlo,Consolas,monospace;background:#0c1336;border:1px solid #25336b;padding:2px 6px;border-radius:6px}
    .empty{opacity:.7;text-align:center;padding:28px}
    .category-title{padding:16px 16px 0;font-size:14px;opacity:.85}
    .counter{margin-left:auto;opacity:.7}

    /* —— 移动端优化 —— */
    @media (max-width: 768px) {
      .container { padding: 0; }
      .app { grid-template-columns: 1fr; gap: 0; }
      .main { border-radius: 0; }
      .menu-toggle {
        position: sticky; top: 0;
        display: inline-block; width: auto; margin: 12px; z-index: 1100;
        background: var(--brand); color: #fff; border: none; padding: 10px 14px; border-radius: 10px; cursor: pointer;
      }
      .sidebar { 
        position: fixed; top: 0; left: -260px; bottom: 0; width: 240px; max-width: 80%;
        background: linear-gradient(180deg,var(--panel),var(--panel2));
        z-index: 1200; transition: left .28s ease; overflow-y: auto; border-radius: 0;
        padding-bottom: env(safe-area-inset-bottom);
      }
      .sidebar.open { left: 0; }
      .overlay {
        position: fixed; inset: 0; background: rgba(0,0,0,.5); z-index: 1100; display:none;
      }
      .overlay.show { display: block; }
      .item { padding: 12px; margin: 8px 12px; }
      .title { font-size: 16px; }
      .badge { font-size: 10px; }
    }

    @media (min-width: 769px) {
      .menu-toggle, .overlay { display: none !important; }
    }
  </style>
</head>
<body>
<div class="overlay" id="overlay"></div>
<div class="container">
  <button class="menu-toggle" id="menuBtn">☰ 分类</button>
  <div class="app">
    <aside class="card sidebar" id="sidebar">
      <div class="header">
        <h1>上院李村庄查询系统</h1>
        <div class="sub">支持 <span class="kbd">搜索</span>、<span class="kbd">分类</span>、<span class="kbd">收藏</span>。</div>
      </div>
      <div class="search">
        <input id="q" placeholder="搜索村庄名称…（快捷键 / ）" />
        <button class="btn ghost" id="clearBtn">清除</button>
      </div>
      <div class="category-title">分类</div>
      <div id="cats"></div>
      <div class="footer small">
        <div>提示：按 <span class="kbd">/</span> 聚焦搜索；按 <span class="kbd">f</span> 收藏/取消</div>
      </div>
    </aside>

    <main class="card main" id="main">
      <div class="toolbar">
        <button class="btn active" data-view="all">全部</button>
        <button class="btn" data-view="fav">收藏</button>
        <span class="counter small" id="counter"></span>
      </div>
      <div class="list" id="list"></div>
      <div class="footer small">
        <span class="muted">本页面为单文件离线可用。数据保存在浏览器本地 <span class="kbd">localStorage</span>。</span>
      </div>
    </main>
  </div>
</div>

<script>
const branches = {
  "长房一支一派": ["吴川市黄坡镇美堂东村", "吴川市黄坡镇美堂中村", "吴川市黄坡镇美堂西村", "吴川市吴阳镇上姚屋垌儿村？", "吴川市黄坡镇四插村(部分)", "吴川市黄坡镇大岸村", "吴川市黄坡镇蕉子岭大村", "吴川市黄坡镇蕉子岭小村", "吴川市吴阳镇新湧姓李村", "吴川市黄坡镇高屋村", "吴川市黄坡镇黄坡圩尾村", "吴川市黄坡镇黄坡圩", "广西灵山县那隆镇那隆圩", "广西灵山县那隆镇高兰李屋村", "广州市越秀区带河街"],
  "长房一支三派": ["吴川市黄坡镇中山开发区", "吴川市黄坡镇黄坡圩", "吴川市黄坡镇岭头粟坡村", "吴川市黄坡镇岭头石坎村", "吴川市黄坡镇岭头沙岗底", "吴川市黄坡镇岭头西边村", "吴川黄坡马台村边(粟坡迁", "去)", "吴川市黄坡镇平泽上高村", "吴川市黄坡镇下马村", "吴川市黄坡镇岭头东村", "吴川市黄坡镇四插村(部", "分)", "湛江市坡头区三柏西村", "吴川市吴阳镇街城里", "吴川市吴阳水洒村", "湛江市坡头区竹园村", "湛江市坡头区林口村", "湛江市坡头区林口麻水村？", "湛江市坡头南三镇油吉塘村", "湛江市坡头塘泽村", "湛江市坡头高岭村"],
  "长房一支二派": ["吴川市黄坡镇平泽村", "吴川市黄坡镇平泽低村", "吴川市黄坡镇平泽下垌村", "吴川市黄坡镇民乐西村", "吴川市黄坡镇平泽上高村(20%为上院李)", "吴川市黄坡镇平泽边塘村", "吴川市黄坡镇平泽大巷村", "吴川市黄坡镇平泽竹园村", "吴川市黄坡镇平泽新盛村", "吴川市黄坡镇官江姓李村", "吴川市黄坡镇四插村(部分)", "吴川市黄坡镇黄坡圩", "湛江市南三镇岭儿村", "湛江坡头麻斜田头仔村", "吴川市吴阳镇大坉村", "吴川市吴阳镇芷寮垌儿村？"],
  "长房一支五派": ["湛江市坡头区五合佳池塘村", "湛江市坡头区五合小佳池塘村", "湛江市坡头区五合村", "湛江市坡头区五合新屋村", "湛江市坡头区五合大山园村", "湛江市坡头区五合古塘城村", "湛江市坡头区沟尾村", "湛江市坡头区兰妙村", "湛江市坡头区麻水坡山村", "湛江市坡头区南调街坡山新村", "湛江市坡头区南调街鸭浦美村", "湛江市坡头区李丰村", "湛江市坡头区坡头塘村", "湛江市坡头区麻新垉城", "湛江市坡头区麻登黄泥岭村", "湛江市坡头区瑶贯李村", "湛江坡头区新塘管区存集村", "湛江市坡头区新塘园周村", "湛江市坡头区新塘新村", "湛江市坡头区新塘管区下屋坡", "湛江市坡头区新塘管区下坡村", "湛江市坡头区高岭村", "湛江市坡头区塘博大朗村", "湛江市坡头区林口李东村", "湛江市坡头区林口李西村", "湛江市坡头区南油五区姓李村", "湛江市坡头区大湾村", "湛江市坡头圩", "湛江市坡头区南调村", "湛江市坡头区龙头镇油麻埇村", "湛江市坡头区龙头镇山塘村", "湛江市坡头区龙头镇山口村", "湛江市龙头镇上东所村", "湛江市南三镇长兴村", "湛江市南三镇五里黄村", "湛江市南三镇莫村", "湛江市官渡镇大隆村", "湛江市官渡镇高山岑屋垌村", "湛江市麻章镇长布村(部分上", "院李氏)", "湛江市麻章镇迈往村", "湛江市麻章镇迈往新村", "湛江市东海岛民安镇畅利村", "湛江市霞山区百儒村沙沟村", "吴川市王村港镇寨坡村", "吴川市塘缀镇灰炉村", "吴川市塘缀镇白石李村", "吴川市覃巴镇调德村", "吴川市覃巴镇文涌村", "吴川市覃巴镇米阳村", "吴川市覃巴镇调旦村", "吴川市覃巴镇潭盼村", "吴川市覃巴镇覃林村", "吴川市覃巴镇覃林沙帽地村", "吴川市覃巴镇文埇村", "吴川市吴阳镇芷寮村", "吴川市吴阳镇沙角旋村", "吴川市梅菉镇横塘基村", "遂溪县杨柑镇龙湾龙湾村(没", "有此村)", "遂溪县杨柑镇龙湾龙塘村", "遂溪县杨柑镇艾占塘仔村", "遂溪县杨柑镇艾占建桂村", "遂溪县杨柑镇艾占朱屋村", "遂溪县杨柑镇艾占赖屋村", "遂溪县杨柑镇松树东松村", "遂溪县杨柑镇甘来后塘村", "遂溪县杨柑镇甘来甘来村", "遂溪县杨柑镇苏屋竹头塘村", "遂溪县杨柑镇马城来龙村", "遂溪县杨柑镇龙新村", "遂溪县杨柑镇松树李贞村", "遂溪县杨柑镇老陆老杨村", "遂溪县杨柑镇马城龙村", "遂溪县杨柑镇老陆香北村", "遂溪县杨柑镇后田后田村", "遂溪县草潭镇下六荔枝山村", "遂溪县草潭镇钗仔茅山村(三", "户人)", "遂溪县北坡镇虾沟村", "遂溪县北坡镇虾沟车路头村", "遂溪县北坡镇虾沟榕树村", "遂溪县北坡镇虾沟西寮坡村", "遂溪县北坡镇虾沟周义村", "遂溪县北坡镇架略元山村", "遂溪县北坡镇南渡急水村", "遂溪县北坡镇东炮塘村", "遂溪县北坡镇西寮坡村", "遂溪县北坡镇永南大塘村", "遂溪县北坡镇黄根村", "遂溪县北坡镇架弄村", "遂溪县北坡镇架岭村", "遂溪县北坡镇北坡圩", "遂溪县岭北镇迈生村", "遂溪县界炮镇龙塘村", "遂溪县界炮镇上赤村", "遂溪县界炮镇下赤村", "遂溪县界炮镇同文大湾村", "遂溪县界炮大基头村", "遂溪县界炮深沟南村", "遂溪县界炮镇黄江尾新村", "旧村", "遂溪县界炮镇涧水村", "遂溪县乐民镇松树塘仔村", "遂溪县乐民镇盐灶村", "遂溪县乐民镇挖尾仔村", "遂溪县河头镇坑尾村", "遂溪县河头镇北干塘村", "〈官塘)", "遂溪县江洪镇昌洋大石坑", "遂溪县江洪镇蛇头地村", "遂溪县江洪镇坛头后塘湾", "遂溪县江洪镇永高村", "遂溪县江洪镇南边洋村", "遂溪县江洪镇海滨村", "遂溪县洋青镇打铁塘村", "遂溪县城月镇后溪村", "遂溪县城月跳龙岭村", "遂溪县城月圩", "遂溪县城月五里塘村", "遂溪县草潭镇红莳棚村", "遂溪县草潭镇龙新新村仔", "遂溪县草潭镇钗仔村", "遂溪县草潭镇沙脚村", "遂溪县草潭镇艾仔寮村", "遂溪县草潭镇石仔埠村", "遂溪县草潭镇姓蔡姓李村", "遂溪县草潭镇姓苏村姓李", "遂溪县草潭镇深井村", "遂溪县港门镇雾水田村", "遂溪县港门镇荔枝园村", "遂溪县港门镇粟地村", "遂溪县港门镇粟地石角村", "遂溪县港门镇芬塘村", "遂溪县港门镇芬塘新城", "遂溪县乌塘镇乌塘圩", "遂溪县乌塘镇新屋仔村", "遂溪县乌塘镇湛川北里仔", "遂溪县新民镇虾沟草塘村", "遂溪县东山镇景芳村", "遂溪县建新镇坡塘村", "遂溪县客路镇佰公湖村", "遂溪县客路镇仁济塘村", "雷州市客路镇后坑仔村", "雷州市客路镇恒山炮塘村", "雷州市客路镇牛母塘村", "雷州市客路镇东山圩", "雷州市纪家镇纪家圩", "雷州市奋勇镇华侨农场", "廉江市石城镇飞鼠田", "化州市杨梅滨江低坡(上", "朱)村", "五合力竹村", "广西北海市采园", "广西北海营盘镇火禄村", "广西北海营盘镇东板塘村", "广西北海营盘镇青山头村", "广西北海南康镇南康圩", "广西北海南康芋头塘村", "广西钦州钦南区犀牛脚镇", "沙角村(车带山村)", "竹根山村"],
  "长房一支四派": ["湛江市南三镇南三黄村", "湛江市坡头区伏波村", "湛江市南三镇调东村", "吴川市黄坡镇平泽坡尾村", "吴川市黄坡镇平泽樟坡村", "吴川市黄坡镇小蛇地村", "吴川市黄坡镇平泽低屋村", "吴川市黄坡镇平泽新盛村", "吴川市黄坡镇平泽新屋村", "吴川市黄坡镇平泽中间村", "吴川市黄坡镇黄坡圩", "吴川市黄坡镇平泽竹园村", "吴川市黄坡镇黄坡沙岗村", "雷州市东里镇西坡仔村", "河南开封朱仙镇黄岗村北"],
  "二房三支": ["信宜市镇隆镇桄榔岭", "信宜市镇隆镇俊昌六官村", "信宜市镇隆镇俊昌大塘村", "信宜市镇隆镇俊昌上塘村", "信宜市镇隆镇俊昌高坡村", "信宜市镇隆镇俊昌莲塘村", "信宜市镇隆镇俊昌帝坡村", "信宜市镇隆镇俊昌上李村", "信宜市镇隆镇俊昌上建村", "信宜市镇隆镇俊昌乐墷村", "信宜市镇隆镇俊昌桥头村", "信宜市镇隆镇俊昌上桥村", "信宜市镇隆镇俊昌大田村", "信宜市镇隆镇俊昌大冲村", "信宜市镇隆镇俊昌甘屋村", "信宜市镇隆镇俊昌公香村", "信宜市镇隆镇俊昌木根村", "信宜市镇隆镇角巷村", "信宜市镇隆镇西岸洲村", "信宜市镇隆镇大水坡坡石村", "信宜市镇隆镇官米垌村", "信宜市镇隆镇利竹垌村", "信宜市镇隆镇天后街", "信宜市镇隆镇新李村", "信宜市东镇英地坡木垌村", "信宜市东镇尚文坡头村", "信宜市东镇尚文中心村", "信宜市东镇尚文坡背村", "信宜市东镇尚文百居村", "信宜市东镇尚文新垌村", "信宜市东镇长塘垌心村", "信宜市东镇长塘水井湾村", "信宜市东镇长塘良八塘村", "信宜市东镇新里六墩村", "信宜市东镇新里令角塘村", "信宜市东镇新里松山脚村", "信宜市镇隆镇六岸谈程村", "信宜市水口镇大甲大棹村", "信宜市高坡镇高坡木秀埇村", "信宜市区旧街", "信宜市北界镇石订村", "高州荷塘镇木头塘辛田村", "高州荷塘镇木头塘吕垌村", "高州市大井镇木广垌村", "高州市大井镇木广垌水塘村", "高州市市区西岸(塔边)", "高州石板樟坑石头堆村", "高州市荷花镇上俗瓦冲村", "高州市潭头镇大湴村委大湴村", "广西北流市白马镇花根村", "罗定县罗镜镇水摆村(失联", "络)", "开平市水口村(失联络)"],
  "二房二支": ["化州市长岐镇新塘村", "化州市长岐镇新塘上角", "化州市长岐镇新塘下角", "化州市长岐镇新塘中间巷", "化州市长岐镇新塘尾", "化州市长岐镇塘北新塘儿", "化州市长岐镇边坡村", "化州市长岐镇上关东头村", "化州市长岐镇上关村", "化州市长岐镇上关中间巷", "化州市长岐镇上关西头村", "化州市长岐镇上关实瑞村", "化州市长岐镇下关村", "化州市长岐镇上新塘村", "化州市长岐镇塘北窑地村", "化州市长岐镇黄沙村", "化州市长岐镇沙陇村", "化州市长岐镇新屋村", "化州市同庆镇石步芳田村", "化州市同庆镇石步旧屋岭", "化州市同庆镇石步高山岭村", "化州市杨梅镇平塘山口村", "化州市那务镇高坡大茶村", "湛江市霞山区西厅村", "湛江市赤坎区云基头村", "湛江赤坎区百姓海萍村", "湛江赤坎区福建村", "湛江市赤坎区百姓村", "湛江市赤坎区丰厚村", "湛江市麻章区麻章圩", "湛江市麻章湖光农场潭高村", "遂溪县界炮镇赤伦西村", "遂溪县界炮镇龙塘村", "遂溪界炮下洋塘村", "遂溪乌塘北安北安村", "遂溪县杨柑镇苏屋姓李村", "遂溪县杨柑镇新埠下埠村", "遂溪县杨柑镇苏屋竹头塘", "遂溪县岭北镇岭北圩", "遂溪县附城镇梅坡岭村", "遂溪县遂城镇山笃村", "遂溪县遂城镇水车村", "遂溪县遂城镇坑里园村", "遂溪县黄略镇泥洋村", "遂溪县洋青镇东城村", "遂溪县洋青镇团结红旗村", "遂溪县洋青镇桔仔树村", "吴川市吴阳镇那良东村", "吴川市樟铺镇车头村委车头村", "吴川市梅菉围兰勇", "吴川樟铺镇车头蓉院村", "吴川市黄坡镇田坉村", "吴川市长岐镇红江村", "吴川浅水双塘塘北村", "吴川吴阳海山大岭脚村", "北海市云南路(一带)"],
  "二房五支": ["化州市长岐镇犀湾上院村", "化州市长岐镇犀湾上地村", "化州市长岐镇犀湾西上村", "化州市长岐镇犀湾西下村", "化州市长岐镇犀湾东联村", "化州市长岐镇犀湾东下村", "化州市长岐镇犀湾里村", "化州市长岐镇犀湾边垌村", "化州市长岐镇犀湾霞坡尾村", "化州市长岐镇犀湾上凌村", "化州市长岐镇犀湾中凌村", "化州市长岐镇犀湾下凌村", "化州市长岐镇西湾西河村", "化州市长岐镇西湾上樟洲园村", "化州市长岐镇西湾下樟洲园村", "化州市长岐镇西湾车头村", "化州市长岐镇中塘锦湾村", "化州市长岐镇东山坡村", "化州市长岐双牌上路村(部", "分)", "化州市长岐双牌南安圩(部", "化州市杨梅镇利甲村", "化州市杨梅镇塘竂村", "化州市杨梅镇竹根园村", "化州市杨梅镇竹根园路口村", "化州市杨梅镇竹根园新屋村", "化州市杨梅镇竹根园沙洲地村", "化州市杨梅镇竹根园江口门村", "化州市杨梅镇水埠边岭村", "243)", "化州市杨梅镇大塘边村", "化州市杨梅镇泊头凤塘村", "化州市平定镇拔甲坡村(大", "屋)", "化州市平定镇宝塘坡村", "化州市平定镇塘肚头村", "化州合江明星塘旺村", "化州合江明星坡禾地村", "化州合江明星水井冲村", "化州合江明星方田村", "化州市那务镇低山村", "化州市那务镇低山李村", "化州市那务镇低山江边村", "化州市那务镇坡心村", "化州市那务镇埒口村", "化州市那务镇湴朗村", "化州市那务镇大木坩村", "化州市那务镇大木坩高坡村", "化州市那务镇高田旺塘村", "化州市那务镇车田坡村", "化州市同庆镇交竹盐埠村", "化州市同庆镇交竹圩", "化州市同庆镇石步鸦鹊岭村", "化州市同庆镇木岭石桥村", "化州市石湾长坡秀帽村", "化州市宝圩镇居委会", "化州市宝圩镇桂坡解放村", "化州市宝圩镇茂坡村", "化州市播扬镇大贵荔枝根村", "化州市播扬镇红山红山村", "化州市丽岗镇丽岗大路冲村", "化州市鉴江区白鸠埲村", "吴川市梅菉圩", "化州市杨梅镇塘寮村", "信宜市池垌镇双垌勒口村", "信宜市东镇镇东镇圩头村", "廉江市城北石龙樟村", "廉江市城北石龙石龙村", "廉江市城北石龙水湖村", "廉江市城北石龙河仔村", "廉江市城北石龙公园村", "廉江市城北大塘坡仔村", "廉江市石城镇石南村委村仔村", "廉江市吉水镇白石合山口村", "遂溪县城月镇城月村", "高州市大井镇圩头村", "高州市大井镇大井荔下村", "高州市大井镇大井荔上村", "高州市大井镇大井西山村", "高州市大井镇石咀榕树村", "高州市大井镇石咀吏部村", "高州市大井镇天堂旺岭阁村", "高州市大井镇长沙山塘村", "高州市大井长沙担水路村", "高州市大井镇大坡山管理区黎", "坑村", "高州市曹江镇凤村竹坑村", "高州市曹江镇堂阁管理区旺岭", "高州市南塘镇谷篢村", "高州市东岸镇双利乡莲垌旱田", "高州市东岸镇旺坑第一垌村", "高州市石板镇平山村(拔甲坡迁)", "高州市石仔岭区潭蒲村委下潭蒲村", "电白区旦场镇金村", "电白区旦场镇盐灶村", "电白区旦场镇河濂村", "电白区旦场镇墩头村", "电白区旦场镇里村", "电白区旦场镇深架村", "电白区旦场镇新屋村", "电白区旦场镇长坡子村", "电白区旦场镇红花村(小部分)", "电白区沙院镇海尾波罗树村", "电白区南海镇大塘坡村", "电白区南海镇那中坡村", "电白区南海镇炮台村", "电白区蓝田坡村委洗净锅村", "电白区蓝田坡村委小河村(小", "部分)", "电白区博贺镇尖岗北村(小部", "海南省三亚荔枝沟同心花园", "广西合浦公馆镇石湖下东山村", "广西合浦公馆镇六甘村", "广西合浦南康镇十字路村", "广西浦北县福旺镇六了李子塘", "广西浦北县福旺镇六了西岭塘", "广西浦北县福旺镇白石坡村", "广西北流沙垌镇三江塘坳村", "广西上林县白圩镇家诗李屋村"],
  "二房四支": ["化州市长岐镇双牌村", "化州市长岐镇双牌东头村", "化州市长岐镇双牌九解村", "化州市长岐镇双牌千祥村", "化州市长岐镇双牌下垌村", "化州市长岐镇双牌外屋村", "化州市长岐镇双牌西门村", "化州市长岐双牌上路村(部", "分)", "化州市长岐镇双牌南安圩(部", "化州市长岐镇双牌下路園村", "化州市长岐镇米能大湾尾村", "化州市长岐镇上米能村", "化州市长岐镇下米能村", "化州市长岐镇米能木根底村", "化州市长岐镇米能长沙村", "化州市长岐镇米能上园村", "化州市长岐镇米能田头屋", "化州市长岐镇米能坡尾村", "化州市长岐镇米能樟山村", "化州市长岐镇米能边塘村", "化州市长岐镇米能边村", "化州市长岐镇米能沙坡儿", "化州市下郭坡尾低坡村(部分", "是上院李)", "化州市长岐镇中塘福山村", "化州市长岐镇中塘上塘边村", "化州市长岐镇中塘横塘村", "化州市长岐镇中塘扫杆山村", "化州市长岐镇中塘新屋村", "化州市长岐镇上石宁村243", "化州市长岐镇石宁外村", "化州市长岐镇中石宁村", "化州市长岐镇下石宁村", "化州市长岐镇石宁垌心村", "化州市长岐镇下山村", "化州市长岐镇下山东边村", "化州市长岐镇下山西边村", "化州市长岐镇下山南边村", "化州市长岐镇下山大红秀村", "化州市江湖镇江湖圩", "化州市长岐镇下山坡口塘村", "化州市长岐镇科美村", "化州市长岐镇科美儿村", "化州市长岐镇沙陇村", "化州市长岐镇南岭村", "化州市长岐镇南岭下村", "化州市杨梅镇水埠边岭村", "化州市杨梅镇蒲芦境村", "化州市杨梅镇滨江朱屋上朱村", "化州市杨梅镇芬坡村", "化州市杨梅镇大塘边村", "化州市杨梅镇塘头村(应为米", "能塘头村)", "化州市杨梅镇泊头村", "化州市杨梅镇赤沙登岸村", "化州市同庆镇石步步车村", "化州市同庆镇悦义背岭村243", "化州市同庆镇宏道双牌儿村", "化州市同庆镇宏道甘村儿", "化州市同庆镇交竹圩", "化州市同庆镇三叉金窝村", "化州市同庆镇上良佛秀堂村", "化州市同庆镇谢白坡底村(部", "化州市河西区宝山脚李家园", "化州市河西区旧船厂", "化州市河西区中山路原一小旁", "化州市城区原水上公社", "化州市宝圩镇桂坡解放村", "化州市石湾邓家冲上塘村", "化州市林尘镇洪湾竹根头村", "化州市那务镇壶洞六双村", "化州市那务镇陂(碑)口村", "化州市那务镇高田上王村", "化州市那务圩", "化州市那务镇大坑村", "化州市那务镇高华都林村", "化州市那务镇湴埌村", "信宜市镇隆镇俊耀山底墷村", "信宜市镇隆镇洲村", "信宜市镇隆镇河吕平坡村", "信宜市镇隆镇官米垌村", "信宜市镇隆镇荔枝田村", "信宜市镇隆镇西塘古圣垌村", "信宜市镇隆镇天官街", "信宜市水口镇大垌六侯村", "信宜市水口镇大垌仁村", "信宜市水口镇大垌山心村", "信宜市水口镇都龙村", "信宜市水口镇龙山村", "信宜市水口镇平冲村", "信宜市水口镇双狮平楼村", "信宜市水口镇权扶榕木村", "信宜市水口镇磨谷地村", "信宜市东镇尚文村", "信宜市东镇尚文坡背村(？)", "信宜市东镇尚文百居村(？)", "信宜市东镇尚文龙头村", "信宜市东镇长塘新村", "信宜市东镇长塘垌心村(?)", "信宜市东镇英地坡村", "信宜市东镇木垌村", "信宜市朱砂镇溪兰村", "信宜市朱砂镇溪兰南冲坑村", "信宜市朱砂镇溪兰冷水坑村", "信宜市朱砂镇溪兰双砥村", "信宜市朱砂镇溪兰琶洞村", "信宜市北界镇六表村", "信宜市北界镇东村平坡村", "信宜市北界镇东埇(坑)村", "信宜市北界镇旺埇村", "信宜市北界镇北埇村", "信宜市北界镇北埇坡塘村", "信宜市北界镇金渠村", "信宜市北界镇金渠密格村", "信宜市北界镇桃子金洲村", "信宜市北界镇桃子庙坳村", "信宜市北界镇桃子容垌村", "信宜市北界镇桃子塘头村", "信宜市北界镇桃子荔枝村", "信宜市北界镇南山勒坡村", "信宜市北界镇石砚村", "信宜市北界镇六利村", "信宜市北界镇六琶大坪村", "信宜市北界镇六云大田村", "信宜市北界镇北界村长岸垌", "信宜市北界镇甘塘鸡肠塘村", "信宜市北界镇柴埇金勾村", "信宜市北界镇甘棠大坳村", "信宜市北界镇双寿西双村", "信宜市北界镇双寿东双村", "信宜市北界镇村北冲村", "信宜市北界镇平山东坑村", "信宜市北界镇平山阳山村", "信宜市北界镇平山学堂村", "信宜市北界镇平山田心垌村", "信宜市北界镇平山旧村坡", "信宜市北界镇罗汉长沙村", "信宜市北界镇罗汉松根村", "信宜市北界镇东村平浪村", "信宜市北界镇长坡村", "信宜市北界镇下利村", "信宜市北界镇丰月水鸡田村", "信宜市高坡镇文垌村", "信宜市池垌镇坡尾村", "信宜市金垌镇光荣浪田村", "信宜市金垌镇蒙埇村", "廉江市良垌镇山腰村", "廉江市良垌镇茅岭村", "廉江市良垌镇茶山村", "廉江市石城镇龙窝江村委会大", "碑头村", "廉江市石城镇碑头村", "廉江市石城镇铜锣埇村委会碑", "头仔村", "高州市大井镇大坡山长江", "高州市大井镇大坡山上坡", "高州市大井镇大坡山岭山", "头村", "高州市大井镇天堂旺岑角村", "高州市荷花镇大路山村", "高州市荷花镇大路山鱼花", "塘村", "高州市荷花镇下俗村", "高州市潭头镇伍村", "高州市曹江镇大坡荔枝塘", "高州东岸双利连垌村", "高州曹江塘阁**村", "吴川市塘缀镇板桥旧圩", "(原水口村)", "吴川市长岐镇梁屋沙尾村", "吴川市黄坡镇新屋大新屋", "吴川市振文镇竹桥勇儿村", "徐闻县龙塘镇福田月凌村", "徐闻县下桥镇坑仔十二队", "北流市白马东塘村大良组", "北流市白马镇山岭水井头", "北流南岸白糖村(原蓝山", "村)", "北流市镇鱼汕村(千多", "人)", "北流市大伦镇冲表长进塘", "北流市大里镇罗杨村", "北流市北流镇新芝街160", "北流市北流镇松花村大岭", "脚村", "广西北流市北流镇独竹松", "花村", "北流市北流镇六地坡村中", "心组", "容县容西乡西山南庆组", "200人", "海丰县乌石镇乌石圩", "海南省金鸡岭村"],
  "二房长支": ["化州市长岐镇边坡村", "吴川市长岐镇岭头村", "茂名市镇盛镇那田东村", "吴川市梅菉隔海村", "吴川市梅菉圩梅菉头村", "吴川市长岐镇苏村", "吴川市长岐镇苏村中间巷村", "吴川市长岐镇苏村大王公村", "吴川市长岐镇苏村宾公村", "吴川市长岐镇苏村上巷村", "吴川市长岐镇苏村埠祥村", "吴川市长岐镇苏村西边塘村", "吴川市长岐镇苏村东边塘村", "吴川市长岐镇苏村低山村", "吴川市长岐镇蓝溪村", "吴川市长岐镇蓝溪后背山村", "吴川市长岐镇蓝溪中间村", "吴川市长岐镇蓝溪边旦村", "吴川市长岐镇高辣上那陵村", "吴川市大山江海棠村", "吴川市长岐镇顿流保地坡村", "吴川市大山江上覃嘲村", "吴川市梅菉圩", "吴川市梅菉四水境", "吴川市浅水镇元山村(近双", "塘)", "吴川市浅水镇上赤岭村", "吴川市黄坡镇白沙寮村", "吴川市吴阳镇芷寮下斗门村", "湛江市南三镇苏村", "湛江市南三镇新灶村", "湛江市南三镇水简村", "湛江市南三镇围岭村", "遂溪县附城镇七连塘村", "高州市根子镇湖山岭村", "高州市根子镇独周村", "高州市大井镇塘头村(独周", "迁)", "电白区那正村", "海南省海口市秀英街"],
  "三房一支一派（ 65个村": ["庄)", "广西博白龙潭镇蕉林新城村", "广西博白龙潭镇蕉林老城村", "广西博白龙潭镇蕉林文地村", "广西博白龙潭镇蕉林新屋村", "广西博白龙潭镇蕉林上行村", "广西博白龙潭镇蕉林东头村", "广西博白龙潭镇蕉林坡心村", "广西博白龙潭镇蕉林竹围村", "广西博白龙潭镇蕉林大元村", "广西博白龙潭镇蕉林中间村", "广西博白龙潭镇蕉林坡尾村", "广西博白龙潭镇蕉林善内村", "广西博白龙潭镇龙潭圩", "广西博白龙潭镇坡头村", "广西博白龙潭镇坡头坡村", "广西博白龙潭镇坡头茂兰塘村", "广西博白龙潭镇坡头龙口坡村", "广西博白龙潭镇兴华坡心村", "广西博白龙潭镇兴华鹰爪塘村", "广西博白龙潭镇南坡村", "广西博白龙潭镇南坡陂口村", "广西博白龙潭镇南坡油甘冲村", "广西博白龙潭镇南坡龙眼根村", "广西博白龙潭镇高山高山村", "广西博白龙潭镇高山山边村", "博白龙潭高山大奇塘村", "博白龙潭高山细奇塘村", "博白龙潭高山榕木根村", "广西博白龙潭镇长岭扫把塘村", "广西博白龙潭镇大禾濂村", "广西博白龙潭鹤木根村", "广西博白龙潭镇长岭南北塘村", "广西博白松旺镇潭连村", "广西博白松旺镇暗陂村", "广西北海市铁山港区南康镇社", "内村", "广西北海市吴井村", "广西合浦县闸口江表塘村", "广西合浦县十字路李屋村", "广西合浦县十字路大马王村", "广西合浦县白沙镇芋地坡村", "广西合浦县白沙镇东桃根村", "广西合浦白沙镇榄根村委新村", "广西合浦县白沙镇高岭头村", "广西合浦县白沙镇水流坝村", "广西合浦县白沙镇冲尾硬肻龙", "广西合浦白沙镇龙江三根松村", "广西合浦县白沙镇沙尾村", "广西合浦县白沙镇和荣村", "广西合浦白沙镇那潭烧灰铺村", "广西合浦县白沙镇圩地坡村", "广西合浦县白沙镇冲尾村", "广西合浦县白沙镇水车角村", "广西合浦县白沙镇荔枝垻村", "广西合浦县白沙镇秧地墩村", "广西合浦县白沙宏德黄基塘村", "广西合浦县公馆镇盐田村", "广西合浦县公馆镇黄桥陂村", "广西合浦县公馆镇广昌村", "广西合浦县公馆镇上联村", "广西合浦县公馆镇石湖村", "广西合浦县公馆镇下东山村", "广西合浦县山口镇马塘村", "广西合浦县山口镇大陂埧村", "广西合浦县山口镇大堤下十村", "广西合浦县山口镇山口街"],
  "三房一支二派": ["廉江市车板镇陆地(福地)村", "廉江市车板镇龙头沙村", "廉江市车板镇陆地红岭村", "廉江市车板镇陆地上交行村", "廉江市车板镇龙头沙新村仔", "廉江市车板镇竹头田村", "廉江市车板镇平坡村", "廉江市车板镇鸭公(乸)塘村", "廉江市车板镇上龙土村", "廉江市车板镇下龙土村", "廉江市车板镇马三埇村", "廉江市车板镇横岭村", "廉江市车板镇陆地洋山村", "廉江市车板镇车板圩", "廉江市车板镇郁仔村", "廉江市车板镇塘尾村", "廉江市车板大贵庙山子村", "廉江市红江场大竹头村", "廉江市红江场金花村", "廉江市红江场金花营村", "廉江市红江场那棚村", "廉江市红江场稔子窝", "廉江市红江场栗木村", "廉江市红江场虾仔埇村", "廉江市青平镇高楼岭村", "廉江市高桥镇洞心村", "廉江市高桥镇扫干坡村", "廉江市高桥镇李屋村", "合浦县公馆镇下乘马村", "合浦县公馆镇秧地头村", "合浦县公馆镇竹围塘李屋村", "合浦县公馆镇公馆圩", "广西合浦县公馆镇高洲料村", "广西合浦县公馆镇高洲良屋村", "合浦县山口镇海头大村", "合浦县山口镇水碾村", "合浦县山口镇石乐埠村", "合浦县山口镇山口圩", "合浦县山口镇安子塘村", "合浦县山口镇黑泥村", "合浦县山口镇新圩", "合浦县山口镇边埇村", "合浦县山口镇山口新村", "合浦县山口镇新塘村", "合浦县山口镇丹刀新村", "合浦县山口镇下低坡村", "合浦县山口镇永安城外村", "合浦县山口镇永安城内村", "合浦县山口镇西海大村", "合浦县白沙镇山夹尾村", "合浦县白沙镇白沙圩", "合浦县白沙镇新屋村", "合浦县白沙镇新田寮村", "合浦县白沙镇黄其塘村", "合浦县白沙镇梅绿垌村", "合浦县白沙镇绿禾垌村", "合浦县白沙镇园岭村", "合浦县白沙镇黄牛陂村", "合埔县白沙镇榄子根新村", "合浦县沙田镇沙田圩", "合浦县沙田镇对达村", "合埔县沙田镇新屋村", "合浦县沙田镇禄村", "合浦县沙田镇肖村坡村", "合浦县沙田镇独屋子村", "韶关乐昌市乐城镇西瓜地村", "钦州市康熙岭镇高沙东围村", "北海市铁山村", "浦北县张黄镇村", "海南省澄迈县华侨农场", "海南省澄迈县福山街", "海南省海口市秀英村"]
};

// —— 数据区生成 ——
const DATA = [];
let idCounter = 1;
for (const [cat, villages] of Object.entries(branches)) {
  villages.forEach(v => DATA.push({ id: `v-${idCounter++}`, name: v, category: cat }));
}
const CATEGORIES = ['全部', ...Object.keys(branches)];

// —— 存储 ——
const store = {
  get fav() { try { return new Set(JSON.parse(localStorage.getItem('favVillages') || '[]')) } catch { return new Set() } },
  set favSet(set) { localStorage.setItem('favVillages', JSON.stringify(Array.from(set))) }
};
let state = { q: '', category: '全部', view: 'all', fav: store.fav };

// —— DOM ——
const $q = document.getElementById('q');
const $list = document.getElementById('list');
const $cats = document.getElementById('cats');
const $counter = document.getElementById('counter');

// —— 分类渲染 ——
function renderCats() {
  $cats.innerHTML = '';
  CATEGORIES.forEach(cat => {
    if (cat === '全部') return;
    const el = document.createElement('div');
    el.className = 'cat' + (state.category === cat ? ' active' : '');
    el.innerHTML = `<span>${cat}</span><span class="chip">${DATA.filter(x => x.category === cat).length}</span>`;
    el.onclick = () => { 
      state.category = cat; 
      setActiveView('all'); 
      render(); 
      // 选完分类后在手机端自动收起抽屉
      closeDrawer();
    };
    $cats.appendChild(el);
  });
}

// —— 过滤 ——
function filterData() {
  let items = DATA.slice();
  if (state.category !== '全部') items = items.filter(x => x.category === state.category);
  if (state.view === 'fav') items = items.filter(x => state.fav.has(x.id));
  if (state.q.trim()) {
    const kw = state.q.trim().toLowerCase();
    items = items.filter(x => x.name.toLowerCase().includes(kw));
  }
  return items;
}

// —— 渲染列表 ——
function render() {
  const items = filterData();
  $list.innerHTML = '';
  if (items.length === 0) $list.innerHTML = `<div class='empty'>没有匹配的结果。</div>`;
  items.forEach(x => {
    const isFav = state.fav.has(x.id);
    const el = document.createElement('div');
    el.className = 'item';
    el.innerHTML = `
      <div>
        <div class="title">${x.name}</div>
        <div class="meta">
          <span class="badge">分类：${x.category}</span>
        </div>
      </div>
      <div class="actions">
        <button class="fav" title="加入收藏" data-idx="${x.id}">${isFav ? '★ 已收藏' : '☆ 收藏'}</button>
      </div>
    `;
    $list.appendChild(el);
  });
  $counter.textContent = `共 ${items.length} 条 · 收藏 ${state.fav.size} 条`;
  $list.querySelectorAll('.fav').forEach(btn => btn.onclick = () => { const id = btn.getAttribute('data-idx'); toggleFav(id); render(); });
}

function toggleFav(id) { const fav = state.fav; if (fav.has(id)) fav.delete(id); else fav.add(id); store.favSet = fav; }
function setActiveView(v) { state.view = v; document.querySelectorAll('.toolbar .btn').forEach(b => { if (b.dataset.view) b.classList.toggle('active', b.dataset.view === v); }); }

// —— 初始化 ——
$q.oninput = () => { state.q = $q.value; render(); };
document.getElementById('clearBtn').onclick = () => { $q.value = ''; state.q = ''; render(); };
document.querySelectorAll('.toolbar .btn').forEach(b => b.onclick = () => { if (b.dataset.view) setActiveView(b.dataset.view); render(); });

renderCats();
render();

// —— 快捷键 ——
window.addEventListener('keydown', (e) => { if (e.key === '/') { e.preventDefault(); $q.focus(); } if (e.key.toLowerCase() === 'f') { const first = document.querySelector('.list .fav'); if (first) first.click(); } });

// —— 抽屉逻辑（移动端） ——
const sidebar = document.getElementById('sidebar');
const overlay = document.getElementById('overlay');
const menuBtn = document.getElementById('menuBtn');
function openDrawer() { sidebar.classList.add('open'); overlay.classList.add('show'); document.body.classList.add('no-scroll'); }
function closeDrawer() { sidebar.classList.remove('open'); overlay.classList.remove('show'); document.body.classList.remove('no-scroll'); }
if (menuBtn) menuBtn.onclick = openDrawer;
if (overlay) overlay.onclick = closeDrawer;
</script>
</body>
</html>
